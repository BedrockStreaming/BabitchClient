<div class="navbar navbar-inverse" role="navigation">
	<div class="container-fluid">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" ng-click="menuSelect=''">Babitch Stats</a>
		</div>
		<div class="navbar-collapse collapse">
          <ul class="nav navbar-nav navbar-right">
            <li ng-class="{active: menuSelect==''}"><a ng-click="menuSelect=''">Overview</a></li>
			<li ng-class="{active: menuSelect=='lastgames'}"><a ng-click="menuSelect='lastgames'">Last Games</a></li>
			<li ng-class="{active: menuSelect=='allstats'}"><a ng-click="menuSelect='allstats'">All Stats</a></li>
          </ul>
        </div>
	</div>
</div>

<div class="container-fluid">
	<div class="row">

		<div class="col-sm-10  col-md-10 col-md-offset-1 main">
			<div class="row placeholders" ng-hide="menuSelect">
				<h2 class="page-header">Overview</h1>
				<div ng-repeat="player in statsGoals | orderBy:'percentGoalPerBall':true| minGamePlayed:5 | limitTo:1" class="col-xs-6 col-sm-3 placeholder">
					<img gravatar-src="playersList[player.id].email || ''" gravatar-default="wavatar" gravatar-size="200" />
					<h4>Top Goaler</h4>
					<span class="text-muted">{{ player.name }} ({{ statsGoals[player.id].percentGoalPerBall }}%)</span>
				</div>
				<div ng-repeat="player in statsGoals | orderBy:'percentVictory':true| minGamePlayed:5 | limitTo:1" class="col-xs-6 col-sm-3 placeholder">
					<img gravatar-src="playersList[player.id].email || ''" gravatar-default="wavatar" gravatar-size="200" />
					<h4>Top Victory</h4>
					<span class="text-muted">{{ player.name }} ({{ statsGoals[player.id].percentVictory }}%)</span>
				</div>
				<div ng-repeat="player in statsGoals | orderBy:'owngoal':true| minGamePlayed:5 | limitTo:1" class="col-xs-6 col-sm-3 placeholder">
					<img gravatar-src="playersList[player.id].email || ''" gravatar-default="wavatar" gravatar-size="200" />
					<h4>Top Own Goal</h4>
					<span class="text-muted">{{ player.name }} ({{ statsGoals[player.id].owngoal }})</span>
				</div>
				<div ng-repeat="player in statsGoals | orderBy:'percentLoose':true| minGamePlayed:5 | limitTo:1" class="col-xs-6 col-sm-3 placeholder">
					<img gravatar-src="playersList[player.id].email || ''" gravatar-default="wavatar" gravatar-size="200" />
					<h4>Top Looser</h4>
					<span class="text-muted">{{ player.name }} ({{ statsGoals[player.id].percentLoose }}%)</span>
				</div>
			</div>

			<div class="table-responsive" ng-show="menuSelect == 'lastgames'">
				<h2 class="sub-header">Last Games</h2>	
				<table id="lastgames" class="table table-hover table-condensed">
					<thead>
						<tr>
							<th colspan="2">Red Team</th>
							<th>Score</th>
							<th colspan="2">Blue Team</th>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="games in gamesList | limitTo:25">
							<td class="redteam" ng-class="{success: games.red_score=='10'}">
								<a ng-click="selectPlayer(games.redDefense)">
									{{ playersList[games.redDefense].name }} <img gravatar-src="playersList[games.redDefense].email || ''" gravatar-default="wavatar" gravatar-size="30" />
								</a>
                            </td>
                            <td class="redteam" ng-class="{success: games.red_score=='10'}">
								<a ng-click="selectPlayer(games.redAttack)">
									{{ playersList[games.redAttack].name }} <img gravatar-src="playersList[games.redAttack].email || ''" gravatar-default="wavatar" gravatar-size="30" />
								</a>
							</td>
							<td class="score">
								<span class="badge">{{ games.red_score }}</span> - <span class="badge">{{ games.blue_score }}</span>
							</td>
							<td class="blueteam" ng-class="{success: games.blue_score=='10'}">
								<a ng-click="selectPlayer(games.blueDefense)">
									<img gravatar-src="playersList[games.blueDefense].email || ''" gravatar-default="wavatar" gravatar-size="30" /> {{ playersList[games.blueDefense].name }}
								</a>
                            </td>
                            <td class="blueteam" ng-class="{success: games.blue_score=='10'}">
								<a ng-click="selectPlayer(games.blueAttack)">
									<img gravatar-src="playersList[games.blueAttack].email || ''" gravatar-default="wavatar" gravatar-size="30" /> {{ playersList[games.blueAttack].name }}
								</a>
							</td>					
						</tr>
					</tbody>
				</table>
			</div>

			<div ng-show="menuSelect == 'player'">
				<h2 class="sub-header">Players</h2>	
				<div class="player">
					<img gravatar-src="playersList[selectedPlayer].email" gravatar-default="wavatar" class="img-responsive" gravatar-size="60">
					<h2>{{ playersList[selectedPlayer].name }}</h2>
				</div>

				<table class="table table-hover table-condensed">
					<tbody>
						<tr ng-repeat="stat in statsType">
							<td>{{ (stat.text ? stat.text : stat.name) }}</td>					
							<td>{{ statsGoals[selectedPlayer][stat.name] }}{{ stat.addSuffix }}</td>
						</tr>
					</tbody>
				</table>
			</div>

			<div class="table-responsive" ng-show="menuSelect == 'allstats'">
				<h2 class="sub-header">All Stats</h2>	
				<table class="table table-hover table-condensed">
					<thead>
						<tr>
							<th><a href="" ng-click="setPredicate('name'); setReverse()">Name</a></th>
							<th ng-repeat="stat in statsType | filter: {show: true}"><a href="" ng-click="setPredicate(stat.name); setReverse()">{{ (stat.text ? stat.text : stat.name) }}</a></th>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="player in statsGoals | orderBy:predicate:reverse | minGamePlayed:5">
							<td><a ng-click="selectPlayer(player.id)">{{ player.name }}</a></td>

							<td ng-repeat="stat in statsType | filter: {show: true}">{{ player[stat.name] }}{{ stat.addSuffix }}</td>
						</tr>
					</tbody>
				</table>
			</div>

		</div>
	</div>
</div>
